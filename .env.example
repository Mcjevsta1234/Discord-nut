# ========================================
# Discord Bot Configuration
# ========================================

# Discord Configuration
# Get these from https://discord.com/developers/applications
# OPTIONAL: Omit DISCORD_TOKEN to run in console mode only
DISCORD_TOKEN=your_discord_bot_token_here
DISCORD_CLIENT_ID=your_discord_client_id_here

# Console Mode (optional)
# Set to 'true' or '1' to force console mode instead of Discord
# Alternatively, use --console flag: npm start -- --console
# Or omit DISCORD_TOKEN entirely
# CONSOLE_MODE=true

# ========================================
# OpenRouter Configuration
# ========================================

# OpenRouter API Key (required)
# Get your API key from https://openrouter.ai/keys
OPENROUTER_API_KEY=your_openrouter_api_key_here

# OpenRouter Base URL (optional, uses default if not set)
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1

# OpenRouter Models
# You can use different models for different purposes
# See https://openrouter.ai/models for available models
# 
# Router model: Used to determine which tool/action to take
OPENROUTER_MODEL_ROUTER=mistralai/devstral-2512:free
# Chat model: Used for general conversation
OPENROUTER_MODEL_CHAT=mistralai/devstral-2512:free
# Summarizer model: Used to summarize conversation history
OPENROUTER_MODEL_SUMMARIZER=mistralai/devstral-2512:free

# Allowed Chat Models (comma-separated list)
# Users can switch to these models via admin commands
# OPENROUTER_ALLOWED_CHAT_MODELS=mistralai/devstral-2512:free,openai/gpt-4o-mini,anthropic/claude-3.5-sonnet

# ========================================
# Image Generation Configuration
# ========================================

# Image Model (required for image generation)
# Use google/gemini-2.5-flash-image for fast, reliable image generation
# This model properly returns base64 image data
IMAGE_MODEL=google/gemini-2.5-flash-image

# Image Resolution Settings (optional)
# Default resolution for image generation (width x height)
IMAGE_DEFAULT_WIDTH=512
IMAGE_DEFAULT_HEIGHT=512

# Maximum allowed resolution (prevents excessive costs/sizes)
IMAGE_MAX_WIDTH=1024
IMAGE_MAX_HEIGHT=1024

# Supported resolutions:
# - Square: 128×128, 256×256, 512×512 (default), 768×768, 1024×1024
# - 16:9 landscape: 768×432, 1024×576
# - 9:16 portrait: 432×768, 576×1024
# - Banner: 1024×256
# Note: Discord upload limit is 8MB - images are automatically compressed if needed

# ========================================
# Bot Behavior Configuration
# ========================================

# System Prompt (optional)
# Defines the bot's core behavior and formatting guidelines
# If not set, uses a default Discord-friendly prompt with formatting rules
# BOT_SYSTEM_PROMPT=You are a helpful Discord bot assistant.

# Personality (optional)
# Defines the bot's tone and style
# BOT_PERSONALITY=friendly, helpful, and slightly humorous

# Bot Memory Settings
# Maximum number of messages to keep in short-term memory
BOT_MAX_MEMORY_MESSAGES=10

# Enable automatic conversation summarization
# When enabled, older messages are summarized to maintain context
BOT_ENABLE_SUMMARY=true

# Trigger Names (optional, comma-separated)
# Additional names the bot will respond to (case-insensitive)
# Leave empty to only respond when mentioned with @bot
# BOT_TRIGGER_NAMES=bot,assistant,helper

# ========================================
# Web Search Configuration (MCP Tool)
# ========================================

# Web search is provided via the DuckDuckGo HTML search tool
# NO API KEYS REQUIRED - works out of the box
# The bot can search the web when needed using the web_search MCP tool
# 
# Provider: DuckDuckGo (HTML endpoint)
# Base URL: https://html.duckduckgo.com/html/
# Max Results: Configurable per query (1-10, default 5)
# 
# No additional environment variables or API keys needed for web search.
# The tool is automatically available to the bot via MCP integration.

# ========================================
# Model Routing & Pricing Configuration
# ========================================

# Routing Mode: 'heuristic' (fast), 'routerModel' (intelligent), 'hybrid' (best of both)
ROUTING_MODE=hybrid

# Router model for intelligent routing decisions (should be fast and cheap)
MODEL_ROUTER=xiaomi/mimo-v2-flash:free

# Confidence threshold (0-100): if heuristic confidence < this, use router model
ROUTING_CONFIDENCE_THRESHOLD=80

# Retry configuration
ROUTING_MAX_RETRIES=1
ROUTING_RETRY_HIGHER_TIER=true
ROUTING_BACKOFF_MS=1000

# ========================================
# Model Tier Configuration
# ========================================

# INSTANT TIER (fast, cheap - greetings, simple queries)
MODEL_INSTANT=xiaomi/mimo-v2-flash:free
MODEL_INSTANT_MAX_PROMPT=4000
MODEL_INSTANT_MAX_OUTPUT=256
MODEL_INSTANT_INPUT_PRICE=0
MODEL_INSTANT_OUTPUT_PRICE=0

# SMART TIER (general reasoning - most conversations, tool usage)
MODEL_SMART=deepseek/deepseek-r1-0528
MODEL_SMART_MAX_PROMPT=32000
MODEL_SMART_MAX_OUTPUT=8000
MODEL_SMART_INPUT_PRICE=0.05
MODEL_SMART_OUTPUT_PRICE=0.22

# THINKING TIER (deep reasoning - complex analysis, explanations)
MODEL_THINKING=google/gemma-3-27b-it:free
MODEL_THINKING_MAX_PROMPT=64000
MODEL_THINKING_MAX_OUTPUT=16000
MODEL_THINKING_INPUT_PRICE=0
MODEL_THINKING_OUTPUT_PRICE=0

# CODING TIER (code-specialized - generation, debugging, refactoring)
MODEL_CODING=google/gemma-3-12b-it:free
MODEL_CODING_MAX_PROMPT=32000
MODEL_CODING_MAX_OUTPUT=8000
MODEL_CODING_INPUT_PRICE=0
MODEL_CODING_OUTPUT_PRICE=0

# ========================================
# Pricing Configuration
# ========================================
# 
# Prices are in USD per 1 million tokens
# Set these to track costs in the bot's debug output
# 
# Examples:
# - GPT-4o: INPUT=2.50, OUTPUT=10.00
# - Claude 3.5 Sonnet: INPUT=3.00, OUTPUT=15.00
# - Gemini 1.5 Flash: INPUT=0.075, OUTPUT=0.30
# - Free models: INPUT=0, OUTPUT=0
# 
# To set pricing for a tier, uncomment and edit:
# MODEL_SMART_INPUT_PRICE=0.14
# MODEL_SMART_OUTPUT_PRICE=0.28
